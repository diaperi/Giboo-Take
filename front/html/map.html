<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Kakao Map Current Location</title>
    <style>
      #map {
        width: 100%;
        height: 400px;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>

    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=4a57d546fefaefbc7ac5bde8a6eb90ec"></script>
    <script>
      // 현재 위치를 가져와 지도에 표시하는 함수
      function getCurrentLocation() {
        // 위치 정보를 가져오기 위한 Geolocation API 사용
        if (navigator.geolocation) {
          // 위치 정보를 성공적으로 가져왔을 때의 콜백 함수
          function success(position) {
            var latitude = position.coords.latitude; // 위도
            var longitude = position.coords.longitude; // 경도

            // 지도 생성 및 설정
            var container = document.getElementById("map");
            var options = {
              center: new kakao.maps.LatLng(latitude, longitude),
              level: 3,
            };
            var map = new kakao.maps.Map(container, options);

            // 마커 생성 및 설정
            var markerPosition = new kakao.maps.LatLng(latitude, longitude);
            var marker = new kakao.maps.Marker({
              position: markerPosition,
            });

            // 마커 지도에 추가
            marker.setMap(map);
          }

          // 위치 정보를 가져오지 못했을 때의 콜백 함수
          function error() {
            alert("위치 정보를 가져올 수 없습니다.");
          }

          // 위치 정보 요청
          navigator.geolocation.getCurrentPosition(success, error);
        } else {
          alert("Geolocation을 지원하지 않는 브라우저입니다.");
        }
      }

      // 현재 위치 버튼 클릭 시 getCurrentLocation 함수 호출
      document.getElementById("currentLocationBtn").addEventListener("click", getCurrentLocation);
    </script>
    <button id="currentLocationBtn">현재 위치 보기</button>
  </body>
</html>